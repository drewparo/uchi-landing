"use strict";import r from"./base.js";class e extends r{static name="liquidTypewriter";options(){return{loop:!1,delay:"natural",deleteSpeed:"natural",actions:[]}}get ui(){return{writer:".lqd-tw-writer"}}initialize(){this.isDestroyed||(this.buildTypewriter(),this.addTypewriterActions(),this.buildIO())}buildTypewriter(){this.typewriter=new Typewriter(this.getUI("writer")[0],{wrapperClassName:"lqd-tw-wrapper",cursorClassName:"lqd-tw-cursor inline-block",delay:this.getOption("delay"),deleteSpeed:this.getOption("deleteSpeed"),loop:this.getOption("loop")})}addTypewriterActions(){this.getOption("actions").forEach(t=>{this.typewriter[t[0]](t[1])})}buildIO(){this.IO=new IntersectionObserver(([i])=>{this.isDestroyed||(i.isIntersecting?this.typewriter.start():this.typewriter.stop())}),this.IO.observe(this.view.el)}destroy(){this.IO&&this.IO.disconnect(),super.destroy()}}window.liquid?.app?window.liquid?.app?.model?.set("loadedBehaviors",[...window.liquid.app.model.get("loadedBehaviors"),e]):window.liquid?.loadedBehaviors?.push(e);export default e;
